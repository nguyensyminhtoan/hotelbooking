{"ast":null,"code":"var _jsxFileName = \"E:\\\\H\\u1ECDc T\\u1EADp\\\\NodeJS\\\\asm2\\\\Client App\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Home from \"./pages/home/Home\";\nimport Detail from \"./pages/detail/Detail\";\nimport Search from \"./pages/search/Search\";\nimport AuthPage from \"./pages/AuthPage/AuthPage\";\nimport { useEffect, useState } from \"react\";\nimport { SearchProvider } from \"./searchContext/SearchContext\";\nimport Transaction from \"./pages/Transaction/Transaction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [isLogin, setIsLogin] = useState(false);\n  const [dataUser, setDataUser] = useState(''); // check login\n\n  const [redirectToHome, setRedirectToHome] = useState(false);\n  const [dataHotels, setDataHotels] = useState();\n  useEffect(() => {\n    fetchHotels();\n  }, []);\n  useEffect(() => {\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'));\n\n    if (userInfo) {\n      // Gửi thông tin người dùng đến server để kiểm tra đăng nhập\n      fetch('http://localhost:5000/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userInfo)\n      }).then(response => response.json()).then(data => {\n        setIsLogin(data.isLogin);\n        setDataUser(data.user);\n      }).catch(error => console.log(error));\n    } else {\n      setIsLogin(false);\n      setDataUser([]);\n    }\n  }, [redirectToHome]);\n\n  const handleLoginSuccess = () => {\n    setRedirectToHome(true);\n  };\n\n  const fetchHotels = async () => {\n    const request = await fetch('http://localhost:5000/hotel');\n    const dataHotels = await request.json();\n    setDataHotels(dataHotels);\n  };\n\n  return /*#__PURE__*/_jsxDEV(SearchProvider, {\n    children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Home, {\n            isLogin: isLogin,\n            email: dataUser.email,\n            data: dataHotels\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/search\",\n          element: /*#__PURE__*/_jsxDEV(Search, {\n            isLogin: isLogin,\n            email: dataUser.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/detail/:hotelID\",\n          element: /*#__PURE__*/_jsxDEV(Detail, {\n            isLogin: isLogin,\n            dataUser: dataUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 51\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/auth\",\n          element: /*#__PURE__*/_jsxDEV(AuthPage, {\n            onLoginSuccess: handleLoginSuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/transaction\",\n          element: /*#__PURE__*/_jsxDEV(Transaction, {\n            isLogin: isLogin,\n            email: dataUser.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"VhyZIAxcBZDInTCVKsAQaXzCX/E=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["E:/Học Tập/NodeJS/asm2/Client App/src/App.js"],"names":["BrowserRouter","Routes","Route","Home","Detail","Search","AuthPage","useEffect","useState","SearchProvider","Transaction","App","isLogin","setIsLogin","dataUser","setDataUser","redirectToHome","setRedirectToHome","dataHotels","setDataHotels","fetchHotels","userInfo","JSON","parse","localStorage","getItem","fetch","method","headers","body","stringify","then","response","json","data","user","catch","error","console","log","handleLoginSuccess","request","email"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,MAAxB,EAAgCC,KAAhC,QAA6C,kBAA7C;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,cAAT,QAA+B,+BAA/B;AACA,OAAOC,WAAP,MAAwB,iCAAxB;;;AACA,SAASC,GAAT,GACA;AAAA;;AACE,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC,CAFF,CAGE;;AACA,QAAM,CAACQ,cAAD,EAAiBC,iBAAjB,IAAsCT,QAAQ,CAAC,KAAD,CAApD;AACA,QAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,EAA5C;AACAD,EAAAA,SAAS,CAAC,MACV;AAEEa,IAAAA,WAAW;AAEZ,GALQ,EAKN,EALM,CAAT;AAMAb,EAAAA,SAAS,CAAC,MACV;AACE,UAAMc,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAjB;;AAEA,QAAIJ,QAAJ,EACA;AACE;AACAK,MAAAA,KAAK,CAAC,wBAAD,EAA2B;AAC9BC,QAAAA,MAAM,EAAE,MADsB;AAE9BC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFqB;AAK9BC,QAAAA,IAAI,EAAEP,IAAI,CAACQ,SAAL,CAAeT,QAAf;AALwB,OAA3B,CAAL,CAOGU,IAPH,CAOQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPpB,EAQGF,IARH,CAQQG,IAAI,IACV;AACErB,QAAAA,UAAU,CAACqB,IAAI,CAACtB,OAAN,CAAV;AACAG,QAAAA,WAAW,CAACmB,IAAI,CAACC,IAAN,CAAX;AACD,OAZH,EAaGC,KAbH,CAaSC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAblB;AAcD,KAjBD,MAkBA;AACExB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,WAAW,CAAC,EAAD,CAAX;AACD;AACF,GA1BQ,EA0BN,CAACC,cAAD,CA1BM,CAAT;;AA2BA,QAAMwB,kBAAkB,GAAG,MAC3B;AACEvB,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,GAHD;;AAMA,QAAMG,WAAW,GAAG,YACpB;AACE,UAAMqB,OAAO,GAAG,MAAMf,KAAK,CAAC,6BAAD,CAA3B;AACA,UAAMR,UAAU,GAAG,MAAMuB,OAAO,CAACR,IAAR,EAAzB;AACAd,IAAAA,aAAa,CAACD,UAAD,CAAb;AAGD,GAPD;;AASA,sBACE,QAAC,cAAD;AAAA,2BACE,QAAC,aAAD;AAAA,6BACE,QAAC,MAAD;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,GAAZ;AAAgB,UAAA,OAAO,eAAE,QAAC,IAAD;AAAM,YAAA,OAAO,EAAEN,OAAf;AAAwB,YAAA,KAAK,EAAEE,QAAQ,CAAC4B,KAAxC;AAA+C,YAAA,IAAI,EAAExB;AAArD;AAAA;AAAA;AAAA;AAAA;AAAzB;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,SAAZ;AAAsB,UAAA,OAAO,eAAE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAEN,OAAjB;AAA0B,YAAA,KAAK,EAAEE,QAAQ,CAAC4B;AAA1C;AAAA;AAAA;AAAA;AAAA;AAA/B;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,kBAAZ;AAA+B,UAAA,OAAO,eAAE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAE9B,OAAjB;AAA0B,YAAA,QAAQ,EAAEE;AAApC;AAAA;AAAA;AAAA;AAAA;AAAxC;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,OAAZ;AAAoB,UAAA,OAAO,eAAE,QAAC,QAAD;AAAU,YAAA,cAAc,EAAE0B;AAA1B;AAAA;AAAA;AAAA;AAAA;AAA7B;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,cAAZ;AAA2B,UAAA,OAAO,eAAE,QAAC,WAAD;AAAa,YAAA,OAAO,EAAE5B,OAAtB;AAA+B,YAAA,KAAK,EAAEE,QAAQ,CAAC4B;AAA/C;AAAA;AAAA;AAAA;AAAA;AAApC;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAaD;;GApEQ/B,G;;KAAAA,G;AAsET,eAAeA,GAAf","sourcesContent":["import { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Home from \"./pages/home/Home\";\nimport Detail from \"./pages/detail/Detail\";\nimport Search from \"./pages/search/Search\";\nimport AuthPage from \"./pages/AuthPage/AuthPage\";\nimport { useEffect, useState } from \"react\";\nimport { SearchProvider } from \"./searchContext/SearchContext\";\nimport Transaction from \"./pages/Transaction/Transaction\";\nfunction App()\n{\n  const [isLogin, setIsLogin] = useState(false)\n  const [dataUser, setDataUser] = useState('')\n  // check login\n  const [redirectToHome, setRedirectToHome] = useState(false)\n  const [dataHotels, setDataHotels] = useState()\n  useEffect(() =>\n  {\n\n    fetchHotels()\n\n  }, [])\n  useEffect(() =>\n  {\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'));\n\n    if (userInfo)\n    {\n      // Gửi thông tin người dùng đến server để kiểm tra đăng nhập\n      fetch('http://localhost:5000/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userInfo)\n      })\n        .then(response => response.json())\n        .then(data =>\n        {\n          setIsLogin(data.isLogin);\n          setDataUser(data.user);\n        })\n        .catch(error => console.log(error));\n    } else\n    {\n      setIsLogin(false)\n      setDataUser([])\n    }\n  }, [redirectToHome])\n  const handleLoginSuccess = () =>\n  {\n    setRedirectToHome(true);\n  }\n\n\n  const fetchHotels = async () =>\n  {\n    const request = await fetch('http://localhost:5000/hotel')\n    const dataHotels = await request.json()\n    setDataHotels(dataHotels)\n\n\n  }\n\n  return (\n    <SearchProvider>\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Home isLogin={isLogin} email={dataUser.email} data={dataHotels} />} />\n          <Route path=\"/search\" element={<Search isLogin={isLogin} email={dataUser.email} />} />\n          <Route path=\"/detail/:hotelID\" element={<Detail isLogin={isLogin} dataUser={dataUser} />} />\n          <Route path=\"/auth\" element={<AuthPage onLoginSuccess={handleLoginSuccess} />} />\n          <Route path=\"/transaction\" element={<Transaction isLogin={isLogin} email={dataUser.email} />} />\n        </Routes>\n      </BrowserRouter>\n    </SearchProvider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}